# Контрольні роботи — памʼятка

Ця шпаргалка пояснює, як додавати нові контрольні роботи (тести на повторення)
та які поля підтримує рендер на сторінках `revision-lessons.html` і
`revision-test.html`.

## Структура та конвенції

```
src/
├─ data/
│  └─ revision-tests/
│     ├─ present-simple-a1.js    ← приклад контрольної
│     ├─ <новий-тест>.js         ← твій файл з даними
└─ features/
   └─ revision-tests/
      ├─ revision-tests-registry.js
      ├─ revision-tests-list.js
      └─ revision-test-detail.js
```

- **Назва файлу** → одночасно слугуватиме slugом у URL.
- **Експорт** → за замовчуванням (`export default { ... }`).
- **Масив `tasks`** → опис кожного блоку завдань (питання, інструкції,
  варіанти).

## Мінімальний шаблон

```js
const test = {
  id: 'present-simple-a1',
  title: 'Present Simple — контрольна (A1)',
  description: 'Короткий опис того, що перевіряє робота.',
  level: 'A1',
  tags: ['grammar', 'present simple'],
  duration: 25, // у хвилинах (необовʼязково)
  tasks: [
    {
      id: 'gap-fill',
      title: 'Заповніть пропуски',
      instructions: 'Які вказівки має виконати учень.',
      items: [
        {
          prompt: 'She ___ (to like) juice every day.',
          answer: 'likes',
          hint: 'Не забудь про -s у третій особі.',
        },
      ],
    },
  ],
};

export default test;
```

## Що підтримує рендер

| Рівень   | Поле                 | Тип                               | Опис                                                                              |
| -------- | -------------------- | --------------------------------- | --------------------------------------------------------------------------------- |
| Тест     | `id`                 | `string`                          | Якщо пропустити, використовується назва файлу.                                    |
|          | `title`              | `string`                          | Назва картки та заголовок сторінки.                                               |
|          | `description`        | `string`                          | Показується на картці та у вступі.                                                |
|          | `level`              | `string`                          | Плашка з рівнем (наприклад, `A2`).                                                |
|          | `tags`               | `string[]`                        | Мітки під карткою та у вступі.                                                    |
|          | `duration`           | `number`                          | Орієнтовний час у хвилинах.                                                       |
|          | `order`              | `number`                          | Необовʼязковий пріоритет сортування.                                              |
| Завдання | `id`                 | `string`                          | Використовується як anchor на сторінці. Генерується автоматично, якщо пропустити. |
|          | `title`              | `string`                          | Назва блоку («Завдання 1», «Multiple choice» тощо).                               |
|          | `instructions`       | `string`                          | Короткий опис дій, відображається під заголовком.                                 |
|          | `items`              | `object[] \| string[]`            | Пункти завдання. Рядок перетвориться на `{ prompt: рядок }`.                      |
|          | `materials`          | `Array<string \| { url, label }>` | Список додаткових ресурсів.                                                       |
|          | `notes`              | `string \| string[]`              | Поради/примітки для вчителя після завдання.                                       |
|          | `answerKey`          | `string \| string[]`              | Загальний відповіді блок. Показується внизу завдання.                             |
| Пункт    | `prompt`             | `string`                          | Текст конкретного питання.                                                        |
|          | `options`            | `string[]`                        | Варіанти відповіді (рендеряться списком).                                         |
|          | `answer` / `answers` | `string \| string[]`              | Відповідь для конкретного пункту (відкривається в `<details>`).                   |
|          | `hint`               | `string`                          | Додаткова підказка під питанням.                                                  |
|          | `note`               | `string`                          | Коментар для викладача під пунктом.                                               |
|          | `examples`           | `string[]`                        | Список прикладів (з'явиться в блоці «Приклади»).                                  |

> ⚠️ Якщо поле пропущено, рендер підставить безпечні значення (назви за
> замовчуванням, порожні списки тощо), тож достатньо додавати мінімум, а деталі
> — за потреби.

## Порядок додавання нової контрольної

1. Скопіюй шаблон вище у новий файл `src/data/revision-tests/<slug>.js`.
2. Заповни мета-дані (`title`, `description`, `level`, опціонально `tags` і
   `duration`).
3. Додай потрібну кількість завдань у масив `tasks`.
4. Збережи файл — Vite/Vercel одразу підтягне його у список на
   `revision-lessons.html`.
5. Відкрий `revision-test.html?test=<slug>` і перевір, чи все відображається
   коректно.

## Поради

- Використовуй короткі та унікальні `id`/`slug`, щоб зручно ділитися посиланням.
- Якщо потрібна складніша структура (наприклад, таблиці чи розгорнуті
  відповіді), можна додати додаткові поля у `items`; вони будуть доступні у
  скрипті й легко розширюються.
- Сортування у списку визначається спочатку полем `order`, а потім назвою
  (`title`).
