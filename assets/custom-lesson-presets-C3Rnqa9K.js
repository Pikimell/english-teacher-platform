import{a as B}from"./vendor-CWxt7QI6.js";const G=B.create({baseURL:"https://8m3289exx6.execute-api.us-east-2.amazonaws.com"}),_=async({name:e,givenName:t,familyName:o,email:i,picture:s})=>{const n={name:e,givenName:t,familyName:o,email:i,picture:s};return(await G.post("/user",n)).data},U=["volodkaposhta@gmail.com","nreznik451@gmail.com"],f="english-teacher.google-user",E="english-teacher.google-auth-state";document.querySelector("[data-auth-root]");const Z=document.querySelector("[data-auth-signin]"),v=document.querySelector("[data-auth-profile]"),l=document.querySelector("[data-user-name]"),u=document.querySelector("[data-user-email]"),a=document.querySelector("[data-user-avatar]"),d=document.querySelector("[data-auth-signout]");let r=null,b=!1;const A=new Set;let S=!1,x=!1;function D(e){try{if(!e||typeof e!="string")return null;const t=e.split(".");if(!t[1])return null;const o=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=o.padEnd(o.length+(4-o.length%4)%4,"="),s=atob(i).split("").map(n=>`%${`00${n.charCodeAt(0).toString(16)}`.slice(-2)}`).join("");return JSON.parse(decodeURIComponent(s))}catch(t){return console.warn("[auth] Unable to decode Google credential payload",t),null}}function y(e){return{name:e.name||"",givenName:e.givenName||"",familyName:e.familyName||"",email:e.email||"",picture:e.picture||"",credential:e.credential||"",expiresAt:e.expiresAt??null}}function J(){try{const e=window.localStorage.getItem(f);return e?JSON.parse(e):null}catch(e){return console.warn("[auth] Unable to access localStorage",e),null}}function N(e,t){const o=JSON.stringify(t);window.localStorage.getItem(e)!==o&&window.localStorage.setItem(e,o)}function R(e){try{const t=y(e);N(f,t)}catch(t){console.warn("[auth] Unable to persist user in localStorage",t)}}function C(){try{window.localStorage.removeItem(f)}catch(e){console.warn("[auth] Unable to remove user from localStorage",e)}}function p(e){try{N(E,e)}catch(t){console.warn("[auth] Unable to persist auth state",t)}}function z(e){if(!e||typeof e!="object")return!1;const t=!!e.email||!!e.name||!!e.givenName,o=typeof e.credential=="string"&&e.credential.length>0;return t&&o}function I(e){return e?{...e}:null}function F(e,t){if(e===t)return!0;if(!e||!t)return!1;const o=Object.keys(e),i=Object.keys(t);return o.length!==i.length?!1:o.every(s=>e[s]===t[s])}function w(){return{isSignedIn:!!r,user:I(r)}}function H(e){const t=w();A.forEach(o=>{try{o(t,e)}catch(i){console.warn("[auth] Subscriber error",i)}})}function m(e,t){const o=I(e);F(r,o)||(r=o,H(t))}function q(){x||typeof window>"u"||!window.addEventListener||(window.addEventListener("storage",V),x=!0)}function c(){S||typeof window>"u"||(S=!0,q(),g({persist:!1,applyUi:!1,reason:"hydrated"}))}function L(e){v&&(v.hidden=!e),Z&&(Z.hidden=e),d&&(d.hidden=!e)}function O(e,t={}){const{persist:o=!0,reason:i="signed-in"}=t,s=y(e);if(L(!0),l&&(l.textContent=s.name||s.givenName||""),u&&(u.textContent=s.email||""),a)if(s.picture){a.src=s.picture,a.hidden=!1;const n=s.name||s.givenName||"Користувач Google";a.alt=`${n} — аватар профілю`}else a.removeAttribute("src"),a.hidden=!0,a.alt="Google profile avatar";m(s,i),o&&p({status:"signed-in",user:s,updatedAt:Date.now()})}function j(e={}){const{persist:t=!0,reason:o="signed-out"}=e;L(!1),l&&(l.textContent=""),u&&(u.textContent=""),a&&(a.removeAttribute("src"),a.hidden=!0,a.alt="Google profile avatar"),m(null,o),t&&p({status:"signed-out",updatedAt:Date.now()})}function P(e){const t=e==null?void 0:e.credential,o=D(t);if(!o)return;const i={name:o.name||o.given_name||"",givenName:o.given_name||"",familyName:o.family_name||"",email:o.email||"",picture:o.picture||"",credential:t,expiresAt:o.exp?o.exp*1e3:null};_(i),R(i),O(i)}function k(e="signed-out"){var t,o,i;C(),j({reason:e});try{(i=(o=(t=window.google)==null?void 0:t.accounts)==null?void 0:o.id)==null||i.disableAutoSelect()}catch(s){console.warn("[auth] Unable to disable Google auto-select",s)}}function g(e={}){const{persist:t=!1,applyUi:o=!0,reason:i="synced"}=e,s=J(),n=z(s)?s:null,h=n!=null&&n.expiresAt?n.expiresAt<=Date.now():!1;if(n&&!h)if(o)O(n,{persist:t,reason:i});else{const T=y(n);m(T,i),t&&p({status:"signed-in",user:T,updatedAt:Date.now()})}else(h||s)&&C(),o?j({persist:t,reason:i}):(m(null,i),t&&p({status:"signed-out",updatedAt:Date.now()}))}function V(e){e.storageArea===window.localStorage&&(e.key===f||e.key===E||e.key===null)&&g({persist:!1})}function $(){b||(b=!0,c(),window.handleGoogleCredential=P,d&&!d.dataset.authInitialised&&(d.addEventListener("click",()=>k()),d.dataset.authInitialised="true"),g({persist:!1}),q())}function K(e){return typeof e!="function"?()=>{}:(c(),A.add(e),e(w(),r?"signed-in":"signed-out"),()=>{A.delete(e)})}function Y(){g({persist:!1})}const M={init:$,isInitialised:()=>b,isSignedIn:()=>(c(),!!r),getUser:()=>(c(),I(r)),getCredential:()=>(c(),(r==null?void 0:r.credential)??null),signOut:()=>k(),subscribe:K,refresh:Y,getSnapshot:()=>(c(),w()),isAdmin:e=>{e||c();const t=e||r;return U.includes(t==null?void 0:t.email)}};M.subscribe(({isSignedIn:e,user:t})=>{console.log(t),e?U.includes(t.email)?document.body.classList.add("is-admin"):document.body.classList.add("is-user"):document.body.classList.add("is-anonym")});const W=[{id:"custom-no1-mggxs7zo",title:"Урок №1",topicIds:["verb-to-be-basics","greetings-farewells"],createdAt:"2025-10-07T19:12:10.356Z"},{id:"custom-no2-4db25661",title:"Урок №2",topicIds:["personal-pronouns","personal-info-basics"],createdAt:"2025-10-07T19:12:11.356Z"},{id:"custom-no3-b9fd7e6c",title:"Урок №3",topicIds:["articles-a-an-the","alphabet-spelling"],createdAt:"2025-10-07T19:12:12.356Z"},{id:"custom-no4-c6f6abec",title:"Урок №4",topicIds:["nouns-singular-plural","classroom-objects"],createdAt:"2025-10-07T19:12:13.356Z"},{id:"custom-no5-a3c6ccb2",title:"Урок №5",topicIds:["demonstratives-this-that","colours-basics"],createdAt:"2025-10-07T19:12:14.356Z"},{id:"custom-no6-da70b690",title:"Урок №6",topicIds:["possessive-pronouns-basics","family-relationships"],createdAt:"2025-10-07T19:12:15.356Z"},{id:"custom-no7-43000f0c",title:"Урок №7",topicIds:["there-is-there-are-structures","home-rooms-furniture"],createdAt:"2025-10-07T19:12:16.356Z"},{id:"custom-no8-846a8d9e",title:"Урок №8",topicIds:["prepositions-of-place","home-rooms-furniture"],createdAt:"2025-10-07T19:12:17.356Z"},{id:"custom-no9-cf6e6bee",title:"Урок №9",topicIds:["prepositions-of-time","months-seasons"],createdAt:"2025-10-07T19:12:18.356Z"},{id:"custom-no10-28500f64",title:"Урок №10",topicIds:["cardinal-numbers","numbers-0-100"],createdAt:"2025-10-07T19:12:19.356Z"},{id:"custom-no11-d8d86e31",title:"Урок №11",topicIds:["it-is-structures","weather-seasons"],createdAt:"2025-10-07T19:12:20.356Z"},{id:"custom-no12-93e53fe8",title:"Урок №12",topicIds:["word-order-sentences","appearance-personality"],createdAt:"2025-10-07T19:12:21.356Z"},{id:"custom-no13-f4bcb910",title:"Урок №13",topicIds:["have-have-got","body-parts"],createdAt:"2025-10-07T19:12:22.356Z"},{id:"custom-no14-40fdaa86",title:"Урок №14",topicIds:["modal-can-cant","sports-activities"],createdAt:"2025-10-07T19:12:23.356Z"},{id:"custom-no15-ef51a27e",title:"Урок №15",topicIds:["like-love-hate-ing","hobbies-free-time"],createdAt:"2025-10-07T19:12:24.356Z"},{id:"custom-no16-e3b3d783",title:"Урок №16",topicIds:["imperatives-basics","classroom-activities"],createdAt:"2025-10-07T19:12:25.356Z"},{id:"custom-no17-6337b1c4",title:"Урок №17",topicIds:["present-simple-overview","daily-actions"],createdAt:"2025-10-07T19:12:26.356Z"},{id:"custom-no18-b8435532",title:"Урок №18",topicIds:["adverbs-of-frequency","daily-routine"],createdAt:"2025-10-07T19:12:27.356Z"},{id:"custom-no19-8d87b15e",title:"Урок №19",topicIds:["present-continuous-overview","household-actions"],createdAt:"2025-10-07T19:12:28.356Z"},{id:"custom-no20-06a86866",title:"Урок №20",topicIds:["past-simple-to-be","leisure-holidays"],createdAt:"2025-10-07T19:12:29.356Z"},{id:"custom-no21-670eb82c",title:"Урок №21",topicIds:["past-simple-regular-irregular","travel-basics"],createdAt:"2025-10-07T19:12:30.356Z"},{id:"custom-no22-2073a55b",title:"Урок №22",topicIds:["future-simple-will","plans-future-events"],createdAt:"2025-10-07T19:12:31.356Z"},{id:"custom-no23-21e7300b",title:"Урок №23",topicIds:["be-going-to-plans","leisure-holidays"],createdAt:"2025-10-07T19:12:32.356Z"},{id:"custom-no24-29c54cf7",title:"Урок №24",topicIds:["prepositions-of-direction","directions-orientation"],createdAt:"2025-10-07T19:12:33.356Z"},{id:"custom-no25-796a6730",title:"Урок №25",topicIds:["adjectives-order","clothes-footwear"],createdAt:"2025-10-07T19:12:34.356Z"},{id:"custom-no26-9b5f1ffc",title:"Урок №26",topicIds:["adjectives-comparatives","city-places"],createdAt:"2025-10-07T19:12:35.356Z"},{id:"custom-no27-6487572a",title:"Урок №27",topicIds:["quantifiers-some-any","food-drinks"],createdAt:"2025-10-07T19:12:36.356Z"},{id:"custom-no28-7f7a2815",title:"Урок №28",topicIds:["how-much-how-many","shopping-basics"],createdAt:"2025-10-07T19:12:37.356Z"},{id:"custom-no29-9710e19a",title:"Урок №29",topicIds:["countable-uncountable-nouns","meals-dining"],createdAt:"2025-10-07T19:12:38.356Z"},{id:"custom-no30-b72e7840",title:"Урок №30",topicIds:["conjunctions-basics","health-wellbeing"],createdAt:"2025-10-07T19:12:39.356Z"},{id:"custom-no31-2b6f7bda",title:"Урок №31",topicIds:["simple-sentences","city-places"],createdAt:"2025-10-07T19:12:40.356Z"},{id:"custom-no32-deb561b3",title:"Урок №32",topicIds:["compound-sentences","transport-basics"],createdAt:"2025-10-07T19:12:41.356Z"},{id:"custom-no33-9a2f527a",title:"Урок №33",topicIds:["comparisons-as-as","appearance-personality"],createdAt:"2025-10-07T19:12:42.356Z"},{id:"custom-no34-5b2c8e22",title:"Урок №34",topicIds:["past-simple-regular-irregular","leisure-holidays"],createdAt:"2025-10-07T19:12:43.356Z"},{id:"custom-no35-a6a8ac33",title:"Урок №35",topicIds:["present-simple-overview","jobs-professions"],createdAt:"2025-10-07T19:12:44.356Z"},{id:"custom-no36-6a082f08",title:"Урок №36",topicIds:["modal-must-mustnt","classroom-activities"],createdAt:"2025-10-07T19:12:45.356Z"},{id:"custom-no37-faa9b7b8",title:"Урок №37",topicIds:["gerund-after-verbs","hobbies-free-time"],createdAt:"2025-10-07T19:12:46.356Z"},{id:"custom-no38-5206027c",title:"Урок №38",topicIds:["quantity-a-little-a-few","food-drinks"],createdAt:"2025-10-07T19:12:47.356Z"},{id:"custom-no39-6b35cfd3",title:"Урок №39",topicIds:["question-tags-basics","social-expressions"],createdAt:"2025-10-07T19:12:48.356Z"},{id:"custom-no40-4927837a",title:"Урок №40",topicIds:["prepositions-of-place","spatial-phrases-next-to"],createdAt:"2025-10-07T19:12:49.356Z"},{id:"custom-no41-7ba1db93",title:"Урок №41",topicIds:["present-continuous-overview","leisure-holidays"],createdAt:"2025-10-07T19:12:50.356Z"},{id:"custom-no42-29b5bb10",title:"Урок №42",topicIds:["future-simple-will","plans-future-events"],createdAt:"2025-10-07T19:12:51.356Z"},{id:"custom-no43-7ecfedc0",title:"Урок №43",topicIds:["phone-internet-email"],createdAt:"2025-10-07T19:12:52.356Z"},{id:"custom-no44-0e8b8ebd",title:"Урок №44",topicIds:["languages-communication"],createdAt:"2025-10-07T19:12:53.356Z"},{id:"custom-no45-310fbeb4",title:"Урок №45",topicIds:["household-chores"],createdAt:"2025-10-07T19:12:54.356Z"},{id:"custom-no46-ccb1de5a",title:"Урок №46",topicIds:["home-family-description"],createdAt:"2025-10-07T19:12:55.356Z"},{id:"custom-no47-d6148758",title:"Урок №47",topicIds:["classroom-activities"],createdAt:"2025-10-07T19:12:56.356Z"},{id:"custom-no48-3e5720c9",title:"Урок №48",topicIds:["spatial-phrases-in-front"],createdAt:"2025-10-07T19:12:57.356Z"},{id:"custom-no49-f759cafd",title:"Урок №49",topicIds:["everyday-conversations"],createdAt:"2025-10-07T19:12:58.356Z"},{id:"custom-no50-23930ae8",title:"Урок №50",topicIds:["social-expressions"],createdAt:"2025-10-07T19:12:59.356Z"}];export{M as a,W as c,G as i};
//# sourceMappingURL=custom-lesson-presets-C3Rnqa9K.js.map
