{"version":3,"file":"catalog-Cky5BklY.js","sources":["../../src/api/authorization.js","../../src/features/layout/dom-refs.js","../../src/features/auth/auth.js","../../src/features/layout/header-actions.js","../../src/features/catalog/catalog.js"],"sourcesContent":["import axios from './axiosInstance.js';\n\nexport const loginUser = async ({\n  name,\n  givenName,\n  familyName,\n  email,\n  picture,\n}) => {\n  const data = { name, givenName, familyName, email, picture };\n  const res = await axios.post('/user', data);\n  return res.data;\n};\n","export const refs = {\n  headerActions: {\n    createBtn: document.querySelector('.js-create-lesson-btn'),\n    homework: document.querySelector('.js-homework-btn'),\n  },\n};\n","import { loginUser } from '@api/authorization.js';\nimport { refs } from '@features/layout/dom-refs.js';\n\nconst STORAGE_KEY = 'english-teacher.google-user';\nconst AUTH_STATE_KEY = 'english-teacher.google-auth-state';\n\nconst authRoot = document.querySelector('[data-auth-root]');\nconst signInContainer = document.querySelector('[data-auth-signin]');\nconst profileContainer = document.querySelector('[data-auth-profile]');\nconst nameElement = document.querySelector('[data-user-name]');\nconst emailElement = document.querySelector('[data-user-email]');\nconst avatarElement = document.querySelector('[data-user-avatar]');\nconst signOutButton = document.querySelector('[data-auth-signout]');\n\nlet currentUser = null;\nlet isInitialised = false;\nconst subscribers = new Set();\n\nfunction decodeJwtPayload(token) {\n  try {\n    if (!token || typeof token !== 'string') return null;\n    const parts = token.split('.');\n    if (!parts[1]) return null;\n    const base64 = parts[1].replace(/-/g, '+').replace(/_/g, '/');\n    const padded = base64.padEnd(\n      base64.length + ((4 - (base64.length % 4)) % 4),\n      '='\n    );\n    const decoded = atob(padded)\n      .split('')\n      .map(char => `%${`00${char.charCodeAt(0).toString(16)}`.slice(-2)}`)\n      .join('');\n    return JSON.parse(decodeURIComponent(decoded));\n  } catch (error) {\n    console.warn('[auth] Unable to decode Google credential payload', error);\n    return null;\n  }\n}\n\nfunction serialiseUser(user) {\n  return {\n    name: user.name || '',\n    givenName: user.givenName || '',\n    familyName: user.familyName || '',\n    email: user.email || '',\n    picture: user.picture || '',\n    credential: user.credential || '',\n    expiresAt: user.expiresAt ?? null,\n  };\n}\n\nfunction loadStoredUser() {\n  try {\n    const raw = window.localStorage.getItem(STORAGE_KEY);\n    return raw ? JSON.parse(raw) : null;\n  } catch (error) {\n    console.warn('[auth] Unable to access localStorage', error);\n    return null;\n  }\n}\n\nfunction safeSetJSON(key, value) {\n  const nextValue = JSON.stringify(value);\n  const currentValue = window.localStorage.getItem(key);\n  if (currentValue === nextValue) return;\n  window.localStorage.setItem(key, nextValue);\n}\n\nfunction storeUser(user) {\n  try {\n    const payload = serialiseUser(user);\n    safeSetJSON(STORAGE_KEY, payload);\n  } catch (error) {\n    console.warn('[auth] Unable to persist user in localStorage', error);\n  }\n}\n\nfunction clearStoredUser() {\n  try {\n    window.localStorage.removeItem(STORAGE_KEY);\n  } catch (error) {\n    console.warn('[auth] Unable to remove user from localStorage', error);\n  }\n}\n\nfunction persistAuthState(state) {\n  try {\n    safeSetJSON(AUTH_STATE_KEY, state);\n  } catch (error) {\n    console.warn('[auth] Unable to persist auth state', error);\n  }\n}\n\nfunction isStoredUserValid(user) {\n  if (!user || typeof user !== 'object') return false;\n  const hasIdentity =\n    Boolean(user.email) || Boolean(user.name) || Boolean(user.givenName);\n  const hasCredential =\n    typeof user.credential === 'string' && user.credential.length > 0;\n  return hasIdentity && hasCredential;\n}\n\nfunction cloneUser(user) {\n  return user ? { ...user } : null;\n}\n\nfunction shallowEqual(a, b) {\n  if (a === b) return true;\n  if (!a || !b) return false;\n  const keysA = Object.keys(a);\n  const keysB = Object.keys(b);\n  if (keysA.length !== keysB.length) return false;\n  return keysA.every(key => a[key] === b[key]);\n}\n\nfunction createSnapshot() {\n  return {\n    isSignedIn: Boolean(currentUser),\n    user: cloneUser(currentUser),\n  };\n}\n\nfunction notifySubscribers(reason) {\n  const snapshot = createSnapshot();\n  subscribers.forEach(listener => {\n    try {\n      listener(snapshot, reason);\n    } catch (error) {\n      console.warn('[auth] Subscriber error', error);\n    }\n  });\n}\n\nfunction setCurrentUser(user, reason) {\n  const next = cloneUser(user);\n  if (shallowEqual(currentUser, next)) return;\n  currentUser = next;\n  notifySubscribers(reason);\n}\n\nfunction toggleProfileVisibility(isVisible) {\n  if (profileContainer) {\n    profileContainer.hidden = !isVisible;\n  }\n  if (signInContainer) {\n    signInContainer.hidden = isVisible;\n  }\n  if (signOutButton) {\n    signOutButton.hidden = !isVisible;\n  }\n}\n\nfunction showUser(user, options = {}) {\n  const { persist = true, reason = 'signed-in' } = options;\n  const record = serialiseUser(user);\n\n  toggleProfileVisibility(true);\n\n  if (nameElement) {\n    nameElement.textContent = record.name || record.givenName || '';\n  }\n  if (emailElement) {\n    emailElement.textContent = record.email || '';\n  }\n  if (avatarElement) {\n    if (record.picture) {\n      avatarElement.src = record.picture;\n      avatarElement.hidden = false;\n      const altName = record.name || record.givenName || 'Користувач Google';\n      avatarElement.alt = `${altName} — аватар профілю`;\n    } else {\n      avatarElement.removeAttribute('src');\n      avatarElement.hidden = true;\n      avatarElement.alt = 'Google profile avatar';\n    }\n  }\n\n  setCurrentUser(record, reason);\n\n  if (persist) {\n    persistAuthState({\n      status: 'signed-in',\n      user: record,\n      updatedAt: Date.now(),\n    });\n  }\n}\n\nfunction hideUser(options = {}) {\n  const { persist = true, reason = 'signed-out' } = options;\n\n  toggleProfileVisibility(false);\n\n  if (nameElement) nameElement.textContent = '';\n  if (emailElement) emailElement.textContent = '';\n  if (avatarElement) {\n    avatarElement.removeAttribute('src');\n    avatarElement.hidden = true;\n    avatarElement.alt = 'Google profile avatar';\n  }\n\n  setCurrentUser(null, reason);\n\n  if (persist) {\n    persistAuthState({ status: 'signed-out', updatedAt: Date.now() });\n  }\n}\n\nfunction handleCredentialResponse(response) {\n  const credential = response?.credential;\n  const payload = decodeJwtPayload(credential);\n  if (!payload) {\n    return;\n  }\n\n  const user = {\n    name: payload.name || payload.given_name || '',\n    givenName: payload.given_name || '',\n    familyName: payload.family_name || '',\n    email: payload.email || '',\n    picture: payload.picture || '',\n    credential,\n    expiresAt: payload.exp ? payload.exp * 1000 : null,\n  };\n\n  loginUser(user);\n  storeUser(user);\n  showUser(user);\n}\n\nfunction handleSignOut(reason = 'signed-out') {\n  clearStoredUser();\n  hideUser({ reason });\n  try {\n    window.google?.accounts?.id?.disableAutoSelect();\n  } catch (error) {\n    console.warn('[auth] Unable to disable Google auto-select', error);\n  }\n}\n\nfunction syncFromStorage(options = {}) {\n  const { persist = false } = options;\n  const storedUser = loadStoredUser();\n  const validStoredUser = isStoredUserValid(storedUser) ? storedUser : null;\n  const isExpired = validStoredUser?.expiresAt\n    ? validStoredUser.expiresAt <= Date.now()\n    : false;\n\n  if (validStoredUser && !isExpired) {\n    showUser(validStoredUser, {\n      persist,\n      reason: 'synced',\n    });\n  } else {\n    if (isExpired || storedUser) {\n      clearStoredUser();\n    }\n    hideUser({ persist, reason: 'synced' });\n  }\n}\n\nfunction handleStorageEvent(event) {\n  if (event.storageArea !== window.localStorage) return;\n  if (\n    event.key === STORAGE_KEY ||\n    event.key === AUTH_STATE_KEY ||\n    event.key === null\n  ) {\n    syncFromStorage({ persist: false });\n  }\n}\n\nfunction initGoogleAuth() {\n  if (isInitialised) return;\n  isInitialised = true;\n\n  window.handleGoogleCredential = handleCredentialResponse;\n\n  if (signOutButton && !signOutButton.dataset.authInitialised) {\n    signOutButton.addEventListener('click', () => handleSignOut());\n    signOutButton.dataset.authInitialised = 'true';\n  }\n\n  syncFromStorage({ persist: false });\n  window.addEventListener('storage', handleStorageEvent);\n}\n\nfunction subscribe(listener) {\n  if (typeof listener !== 'function') {\n    return () => {};\n  }\n  subscribers.add(listener);\n  listener(createSnapshot(), currentUser ? 'signed-in' : 'signed-out');\n  return () => {\n    subscribers.delete(listener);\n  };\n}\n\nfunction refreshAuthState() {\n  syncFromStorage({ persist: false });\n}\n\nexport const auth = {\n  init: initGoogleAuth,\n  isInitialised: () => isInitialised,\n  isSignedIn: () => Boolean(currentUser),\n  getUser: () => cloneUser(currentUser),\n  getCredential: () => currentUser?.credential ?? null,\n  signOut: () => handleSignOut(),\n  subscribe,\n  refresh: refreshAuthState,\n  getSnapshot: createSnapshot,\n  isAdmin: user => {\n    const data = user || currentUser;\n    const admins = ['volodkaposhta@gmail.com', 'nreznik451@gmail.com'];\n    return admins.includes(data?.email);\n  },\n};\n\nexport { initGoogleAuth };\n","import { auth } from '@features/auth/auth.js';\nimport { refs } from '@features/layout/dom-refs.js';\n\nauth.subscribe(({ isSignedIn, user }) => {\n  if (!isSignedIn) {\n    refs.headerActions.createBtn.hidden = true;\n    refs.headerActions.homework.hidden = true;\n    return;\n  }\n\n  const isAdmin = auth.isAdmin(user);\n\n  if (isAdmin) {\n    refs.headerActions.createBtn.hidden = false;\n    refs.headerActions.homework.hidden = true;\n  } else {\n    refs.headerActions.createBtn.hidden = true;\n    refs.headerActions.homework.hidden = false;\n  }\n});\n","import { lessons, lessonCategories } from '@data/lessons.js';\nimport { customLessonPresets } from '@data/custom-lesson-presets.js';\nimport {\n  loadCustomLessons,\n  subscribeToStorage,\n} from '@features/custom-lessons/custom-lessons-store.js';\nimport { auth } from '@features/auth/auth.js';\nimport '@features/layout/header-actions.js';\n\nconst state = {\n  search: '',\n  category: 'all',\n  level: 'all',\n};\n\nconst searchInput = document.querySelector('[data-filter=\"search\"]');\nconst levelSelect = document.querySelector('[data-filter=\"level\"]');\nconst categoryButtons = Array.from(\n  document.querySelectorAll('[data-category]')\n);\nconst lessonsSection = document.querySelector('[data-lessons-section]');\nconst lessonsGrid = document.querySelector('[data-lessons-grid]');\nconst lessonsEmpty = document.querySelector('[data-lessons-empty]');\nconst stats = {\n  total: document.querySelector('[data-stat-total]'),\n  grammar: document.querySelector('[data-stat-grammar]'),\n  lexical: document.querySelector('[data-stat-lexical]'),\n};\n\nauth.init();\n\nfunction normaliseValue(value) {\n  return value.trim().toLowerCase();\n}\n\nfunction escapeHtml(value) {\n  return String(value ?? '')\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction updateCategoryButtons() {\n  categoryButtons.forEach(button => {\n    const isActive = button.dataset.category === state.category;\n    const isAll = button.dataset.category === 'all';\n    const active = isAll ? state.category === 'all' : isActive;\n    button.classList.toggle('chip--filled', active);\n    button.setAttribute('aria-pressed', String(active));\n  });\n}\n\nfunction createCardTemplate(lesson) {\n  const categoryLabel =\n    lessonCategories[lesson.category]?.label ?? lesson.category;\n  const link = `lesson.html?topic=${encodeURIComponent(\n    lesson.id\n  )}&category=${encodeURIComponent(lesson.category)}&level=${encodeURIComponent(\n    lesson.level\n  )}&title=${encodeURIComponent(lesson.title)}&file=${encodeURIComponent(\n    lesson.htmlPath\n  )}`;\n  const tags = Array.isArray(lesson.tags) ? lesson.tags : [];\n\n  return `\n    <article class=\"lesson-card\" data-lesson-id=\"${lesson.id}\" data-category=\"${\n    lesson.category\n  }\" data-level=\"${lesson.level}\">\n      <a class=\"lesson-card__link\" href=\"${link}\">\n        <div class=\"lesson-card__meta\">\n          <span class=\"lesson-card__category\">${categoryLabel}</span>\n          <span class=\"lesson-card__level\" aria-label=\"Рівень\">${\n            lesson.level\n          }</span>\n        </div>\n        <h3 class=\"lesson-card__title\">${lesson.title}</h3>\n        <p class=\"lesson-card__description\">${lesson.description}</p>\n        ${\n          tags.length\n            ? `<ul class=\"lesson-card__tags\">${tags\n                .map(tag => `<li>${tag}</li>`)\n                .join('')}</ul>`\n            : ''\n        }\n        <span class=\"lesson-card__cta\">Перейти до матеріалу</span>\n      </a>\n    </article>\n  `;\n}\n\nfunction summariseCustomLesson(lesson) {\n  const selectedTopics = (lesson.topicIds || [])\n    .map(id => lessons.find(item => item.id === id))\n    .filter(Boolean);\n\n  const levels = Array.from(\n    new Set(selectedTopics.map(item => item.level))\n  ).sort();\n  const grammarCount = selectedTopics.filter(\n    item => item.category === 'grammar'\n  ).length;\n  const lexicalCount = selectedTopics.filter(\n    item => item.category === 'lexical'\n  ).length;\n\n  return {\n    topics: selectedTopics,\n    levels,\n    grammarCount,\n    lexicalCount,\n  };\n}\n\nfunction createCustomLessonCard(lesson, meta = summariseCustomLesson(lesson)) {\n  const description =\n    lesson.description ||\n    meta.topics\n      .map(item => item.title)\n      .slice(0, 3)\n      .join(', ');\n  const levelLabel =\n    lesson.level ||\n    (meta.levels.length ? meta.levels.join(', ') : 'мікси рівнів');\n  const metaParts = [];\n  if (levelLabel) metaParts.push(`Рівні: ${escapeHtml(levelLabel)}`);\n  if (meta.grammarCount) metaParts.push(`Граматика: ${meta.grammarCount}`);\n  if (meta.lexicalCount) metaParts.push(`Лексика: ${meta.lexicalCount}`);\n\n  return `\n    <article class=\"lesson-card lesson-card--custom\" data-custom-lesson-id=\"${\n      lesson.id\n    }\" data-custom-source=\"${lesson.source || 'local'}\">\n      <a class=\"lesson-card__link\" href=\"lesson.html?custom=${encodeURIComponent(\n        lesson.id\n      )}\">\n        \n       <h3 class=\"lesson-card__title\">${escapeHtml(lesson.title)}</h3>\n        ${\n          metaParts.length\n            ? `<p class=\"lesson-card__meta\">${metaParts.join(' · ')}</p>`\n            : ''\n        }\n        <p class=\"lesson-card__description\">${escapeHtml(\n          description || 'Урок містить кілька тем.'\n        )}</p>\n        \n        <span class=\"lesson-card__cta\">Відкрити комбінований урок</span>\n      </a>\n    </article>\n  `;\n}\n\nfunction collectPresetLessons() {\n  if (!Array.isArray(customLessonPresets)) return [];\n  return customLessonPresets\n    .filter(item => item && typeof item === 'object' && item.id)\n    .map((item, index) => ({\n      ...item,\n      topicIds: Array.isArray(item.topicIds) ? [...item.topicIds] : [],\n      source: 'preset',\n      sortIndex: index,\n    }));\n}\n\nfunction collectLocalCustomLessons() {\n  return loadCustomLessons()\n    .filter(item => item && typeof item === 'object' && item.id)\n    .map((item, index) => ({\n      ...item,\n      topicIds: Array.isArray(item.topicIds) ? [...item.topicIds] : [],\n      source: 'local',\n      sortIndex: 1000 + index,\n    }));\n}\n\nfunction getAllCustomLessons() {\n  const byId = new Map();\n  collectPresetLessons().forEach(lesson => {\n    if (!byId.has(lesson.id)) {\n      byId.set(lesson.id, lesson);\n    }\n  });\n  collectLocalCustomLessons().forEach(lesson => {\n    byId.set(lesson.id, lesson);\n  });\n  return Array.from(byId.values());\n}\n\nfunction collectCombinedLessons() {\n  const toTime = value => {\n    const timestamp = value ? new Date(value).getTime() : 0;\n    return Number.isFinite(timestamp) ? timestamp : 0;\n  };\n\n  const customSource = getAllCustomLessons()\n    .slice()\n    .sort((a, b) => {\n      const timeDiff = toTime(b.createdAt) - toTime(a.createdAt);\n      if (timeDiff !== 0) return timeDiff;\n      return (a.sortIndex || 0) - (b.sortIndex || 0);\n    });\n\n  const customItems = customSource.map(lesson => {\n    const meta = summariseCustomLesson(lesson);\n    return {\n      type: 'custom',\n      lesson,\n      meta,\n    };\n  });\n\n  const catalogItems = lessons.map(lesson => ({\n    type: 'catalog',\n    lesson,\n  }));\n\n  return [...customItems, ...catalogItems];\n}\n\nfunction lessonMatchesCategory(item) {\n  if (state.category === 'all') return true;\n  if (item.type === 'catalog') {\n    return item.lesson.category === state.category;\n  }\n  return false;\n}\n\nfunction lessonMatchesLevel(item) {\n  if (state.level === 'all') return true;\n  if (item.type === 'catalog') {\n    return item.lesson.level === state.level;\n  }\n\n  const lessonLevel = item.lesson.level;\n  if (lessonLevel) return lessonLevel === state.level;\n\n  const derivedLevels = item.meta?.levels ?? [];\n  return derivedLevels.includes(state.level);\n}\n\nfunction collectCustomSearchTokens(lesson, meta) {\n  const topics = meta?.topics ?? [];\n  const topicTokens = topics.flatMap(topic =>\n    [topic.title, topic.description, ...(topic.tags || [])].filter(Boolean)\n  );\n  return [\n    lesson.title,\n    lesson.description,\n    ...(lesson.tags || []),\n    lesson.level,\n    ...topicTokens,\n  ]\n    .filter(Boolean)\n    .map(value => normaliseValue(String(value)));\n}\n\nfunction lessonMatchesSearch(item, searchTerm) {\n  if (!searchTerm) return true;\n\n  if (item.type === 'catalog') {\n    const haystack = [\n      item.lesson.title,\n      item.lesson.description,\n      ...(item.lesson.tags ?? []),\n    ]\n      .filter(Boolean)\n      .map(value => normaliseValue(String(value)));\n    return haystack.some(value => value.includes(searchTerm));\n  }\n\n  const customTokens = collectCustomSearchTokens(item.lesson, item.meta);\n  return customTokens.some(value => value.includes(searchTerm));\n}\n\nfunction filterLessons() {\n  const combined = collectCombinedLessons();\n  const searchTerm = normaliseValue(state.search);\n  return combined.filter(item => {\n    if (!lessonMatchesCategory(item)) return false;\n    if (!lessonMatchesLevel(item)) return false;\n    return lessonMatchesSearch(item, searchTerm);\n  });\n}\n\nfunction renderLessons() {\n  if (!lessonsGrid || !lessonsEmpty) return;\n\n  const items = filterLessons();\n\n  if (!items.length) {\n    lessonsGrid.innerHTML = '';\n    lessonsEmpty.hidden = false;\n    if (lessonsSection) lessonsSection.dataset.hasResults = 'false';\n    return;\n  }\n\n  const markup = items\n    .map(item =>\n      item.type === 'custom'\n        ? createCustomLessonCard(item.lesson, item.meta)\n        : createCardTemplate(item.lesson)\n    )\n    .join('');\n\n  lessonsGrid.innerHTML = markup;\n  lessonsEmpty.hidden = true;\n  if (lessonsSection) lessonsSection.dataset.hasResults = 'true';\n}\n\nfunction setStats() {\n  if (stats.total) stats.total.textContent = String(lessons.length);\n  if (stats.grammar)\n    stats.grammar.textContent = String(\n      lessons.filter(lesson => lesson.category === 'grammar').length\n    );\n  if (stats.lexical)\n    stats.lexical.textContent = String(\n      lessons.filter(lesson => lesson.category === 'lexical').length\n    );\n}\n\nfunction handleSearch(event) {\n  state.search = event.target.value;\n  renderLessons();\n}\n\nfunction handleLevelChange(event) {\n  state.level = event.target.value;\n  renderLessons();\n}\n\nfunction handleCategoryClick(event) {\n  const category = event.currentTarget.dataset.category;\n  if (!category) return;\n\n  state.category = category;\n  updateCategoryButtons();\n  renderLessons();\n}\n\nfunction setCurrentYear() {\n  const currentYearElement = document.querySelector(\n    '[data-component=\"copyright-year\"]'\n  );\n  if (!currentYearElement) return;\n  currentYearElement.textContent = String(new Date().getFullYear());\n}\n\nfunction init() {\n  setStats();\n  updateCategoryButtons();\n  renderLessons();\n  setCurrentYear();\n\n  if (searchInput) {\n    searchInput.addEventListener('input', handleSearch);\n  }\n\n  if (levelSelect) {\n    levelSelect.addEventListener('change', handleLevelChange);\n  }\n\n  categoryButtons.forEach(button => {\n    button.addEventListener('click', handleCategoryClick);\n  });\n\n  subscribeToStorage(() => {\n    renderLessons();\n  });\n}\n\ninit();\n"],"names":["loginUser","name","givenName","familyName","email","picture","data","axios","refs","STORAGE_KEY","AUTH_STATE_KEY","signInContainer","profileContainer","nameElement","emailElement","avatarElement","signOutButton","currentUser","isInitialised","subscribers","decodeJwtPayload","token","parts","base64","padded","decoded","char","error","serialiseUser","user","loadStoredUser","raw","safeSetJSON","key","value","nextValue","storeUser","payload","clearStoredUser","persistAuthState","state","isStoredUserValid","hasIdentity","hasCredential","cloneUser","shallowEqual","a","b","keysA","keysB","createSnapshot","notifySubscribers","reason","snapshot","listener","setCurrentUser","next","toggleProfileVisibility","isVisible","showUser","options","persist","record","altName","hideUser","handleCredentialResponse","response","credential","handleSignOut","_c","_b","_a","syncFromStorage","storedUser","validStoredUser","isExpired","handleStorageEvent","event","initGoogleAuth","subscribe","refreshAuthState","auth","isSignedIn","searchInput","levelSelect","categoryButtons","lessonsSection","lessonsGrid","lessonsEmpty","stats","normaliseValue","escapeHtml","updateCategoryButtons","button","isActive","active","createCardTemplate","lesson","categoryLabel","lessonCategories","link","tags","tag","summariseCustomLesson","selectedTopics","id","lessons","item","levels","grammarCount","lexicalCount","createCustomLessonCard","meta","description","levelLabel","metaParts","collectPresetLessons","customLessonPresets","index","collectLocalCustomLessons","loadCustomLessons","getAllCustomLessons","byId","collectCombinedLessons","toTime","timestamp","customItems","timeDiff","catalogItems","lessonMatchesCategory","lessonMatchesLevel","lessonLevel","collectCustomSearchTokens","topicTokens","topic","lessonMatchesSearch","searchTerm","filterLessons","combined","renderLessons","items","markup","setStats","handleSearch","handleLevelChange","handleCategoryClick","category","setCurrentYear","currentYearElement","init","subscribeToStorage"],"mappings":"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"}