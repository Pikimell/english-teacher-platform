{"version":3,"file":"index.js","sources":["../src/scripts/main.js"],"sourcesContent":["import { lessons, lessonCategories } from '../data/lessons.js';\nimport { customLessonPresets } from '../data/custom-lesson-presets.js';\nimport {\n  loadCustomLessons,\n  subscribeToStorage,\n} from './custom-lessons-store.js';\n\nconst state = {\n  search: '',\n  category: 'all',\n  level: 'all',\n};\n\nconst searchInput = document.querySelector('[data-filter=\"search\"]');\nconst levelSelect = document.querySelector('[data-filter=\"level\"]');\nconst categoryButtons = Array.from(\n  document.querySelectorAll('[data-category]')\n);\nconst grids = {\n  grammar: document.querySelector('[data-category-grid=\"grammar\"]'),\n  communication: document.querySelector('[data-category-grid=\"communication\"]'),\n  quick: document.querySelector('[data-category-grid=\"quick\"]'),\n};\nconst sections = {\n  grammar: document.querySelector('[data-category-section=\"grammar\"]'),\n  communication: document.querySelector(\n    '[data-category-section=\"communication\"]'\n  ),\n  quick: document.querySelector('[data-category-section=\"quick\"]'),\n};\nconst emptyMessages = {\n  grammar: document.querySelector('[data-category-empty=\"grammar\"]'),\n  communication: document.querySelector(\n    '[data-category-empty=\"communication\"]'\n  ),\n  quick: document.querySelector('[data-category-empty=\"quick\"]'),\n};\nconst customSection = document.querySelector('[data-custom-section]');\nconst customGrid = document.querySelector('[data-custom-grid]');\nconst customEmpty = document.querySelector('[data-custom-empty]');\nconst stats = {\n  total: document.querySelector('[data-stat-total]'),\n  grammar: document.querySelector('[data-stat-grammar]'),\n  communication: document.querySelector('[data-stat-communication]'),\n  quick: document.querySelector('[data-stat-quick]'),\n};\n\nfunction normaliseValue(value) {\n  return value.trim().toLowerCase();\n}\n\nfunction escapeHtml(value) {\n  return String(value ?? '')\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#39;');\n}\n\nfunction updateCategoryButtons() {\n  categoryButtons.forEach(button => {\n    const isActive = button.dataset.category === state.category;\n    const isAll = button.dataset.category === 'all';\n    const active = isAll ? state.category === 'all' : isActive;\n    button.classList.toggle('chip--filled', active);\n    button.setAttribute('aria-pressed', String(active));\n  });\n}\n\nfunction createCardTemplate(lesson) {\n  const categoryLabel =\n    lessonCategories[lesson.category]?.label ?? lesson.category;\n  const link = `lesson.html?topic=${encodeURIComponent(\n    lesson.id\n  )}&category=${encodeURIComponent(lesson.category)}&level=${encodeURIComponent(\n    lesson.level\n  )}&title=${encodeURIComponent(lesson.title)}&file=${encodeURIComponent(\n    lesson.htmlPath\n  )}`;\n  const tags = Array.isArray(lesson.tags) ? lesson.tags : [];\n\n  return `\n    <article class=\"lesson-card\" data-lesson-id=\"${lesson.id}\" data-category=\"${\n    lesson.category\n  }\" data-level=\"${lesson.level}\">\n      <a class=\"lesson-card__link\" href=\"${link}\">\n        <div class=\"lesson-card__meta\">\n          <span class=\"lesson-card__category\">${categoryLabel}</span>\n          <span class=\"lesson-card__level\" aria-label=\"Рівень\">${\n            lesson.level\n          }</span>\n        </div>\n        <h3 class=\"lesson-card__title\">${lesson.title}</h3>\n        <p class=\"lesson-card__description\">${lesson.description}</p>\n        ${\n          tags.length\n            ? `<ul class=\"lesson-card__tags\">${tags\n                .map(tag => `<li>${tag}</li>`)\n                .join('')}</ul>`\n            : ''\n        }\n        <span class=\"lesson-card__cta\">Перейти до матеріалу</span>\n      </a>\n    </article>\n  `;\n}\n\nfunction summariseCustomLesson(lesson) {\n  const selectedTopics = (lesson.topicIds || [])\n    .map(id => lessons.find(item => item.id === id))\n    .filter(Boolean);\n\n  const levels = Array.from(\n    new Set(selectedTopics.map(item => item.level))\n  ).sort();\n  const grammarCount = selectedTopics.filter(\n    item => item.category === 'grammar'\n  ).length;\n  const communicationCount = selectedTopics.filter(\n    item => item.category === 'communication'\n  ).length;\n\n  return {\n    topics: selectedTopics,\n    levels,\n    grammarCount,\n    communicationCount,\n  };\n}\n\nfunction createCustomLessonCard(lesson) {\n  const meta = summariseCustomLesson(lesson);\n  const description =\n    lesson.description ||\n    meta.topics\n      .map(item => item.title)\n      .slice(0, 3)\n      .join(', ');\n  const levelLabel =\n    lesson.level ||\n    (meta.levels.length ? meta.levels.join(', ') : 'мікси рівнів');\n  const counts = [];\n  if (meta.grammarCount) counts.push(`Граматика: ${meta.grammarCount}`);\n  if (meta.communicationCount)\n    counts.push(`Communication: ${meta.communicationCount}`);\n  const categoryLabel =\n    lesson.source === 'preset' ? 'Готовий комбінований' : 'Мій комбінований';\n\n  return `\n    <article class=\"lesson-card lesson-card--custom\" data-custom-lesson-id=\"${\n      lesson.id\n    }\" data-custom-source=\"${lesson.source || 'local'}\">\n      <a class=\"lesson-card__link\" href=\"lesson.html?custom=${encodeURIComponent(\n        lesson.id\n      )}\">\n        \n        <h3 class=\"lesson-card__title\">${escapeHtml(lesson.title)}</h3>\n        <p class=\"lesson-card__description\">${escapeHtml(\n          description || 'Урок містить кілька тем.'\n        )}</p>\n        \n        <span class=\"lesson-card__cta\">Відкрити комбінований урок</span>\n      </a>\n    </article>\n  `;\n}\n\nfunction collectPresetLessons() {\n  if (!Array.isArray(customLessonPresets)) return [];\n  return customLessonPresets\n    .filter(item => item && typeof item === 'object' && item.id)\n    .map((item, index) => ({\n      ...item,\n      topicIds: Array.isArray(item.topicIds) ? [...item.topicIds] : [],\n      source: 'preset',\n      sortIndex: index,\n    }));\n}\n\nfunction collectLocalCustomLessons() {\n  return loadCustomLessons()\n    .filter(item => item && typeof item === 'object' && item.id)\n    .map((item, index) => ({\n      ...item,\n      topicIds: Array.isArray(item.topicIds) ? [...item.topicIds] : [],\n      source: 'local',\n      sortIndex: 1000 + index,\n    }));\n}\n\nfunction getAllCustomLessons() {\n  const byId = new Map();\n  collectPresetLessons().forEach(lesson => {\n    if (!byId.has(lesson.id)) {\n      byId.set(lesson.id, lesson);\n    }\n  });\n  collectLocalCustomLessons().forEach(lesson => {\n    byId.set(lesson.id, lesson);\n  });\n  return Array.from(byId.values());\n}\n\nfunction renderCustomLessons() {\n  if (!customGrid || !customEmpty) return;\n\n  const toTime = value => {\n    const timestamp = value ? new Date(value).getTime() : 0;\n    return Number.isFinite(timestamp) ? timestamp : 0;\n  };\n\n  const lessonsToRender = getAllCustomLessons().sort((a, b) => {\n    const timeDiff = toTime(b.createdAt) - toTime(a.createdAt);\n    if (timeDiff !== 0) return timeDiff;\n    return (a.sortIndex || 0) - (b.sortIndex || 0);\n  });\n\n  if (!lessonsToRender.length) {\n    customGrid.innerHTML = '';\n    customEmpty.hidden = false;\n    if (customSection) customSection.dataset.hasCustom = 'false';\n    return;\n  }\n\n  customEmpty.hidden = true;\n  customGrid.innerHTML = lessonsToRender.map(createCustomLessonCard).join('');\n  if (customSection) customSection.dataset.hasCustom = 'true';\n}\n\nfunction filterLessons() {\n  const searchTerm = normaliseValue(state.search);\n  const matches = lessons.filter(lesson => {\n    const matchesCategory =\n      state.category === 'all' || lesson.category === state.category;\n    const matchesLevel = state.level === 'all' || lesson.level === state.level;\n\n    if (!searchTerm) {\n      return matchesCategory && matchesLevel;\n    }\n\n    const haystack = [lesson.title, lesson.description, ...(lesson.tags ?? [])]\n      .filter(Boolean)\n      .map(value => normaliseValue(String(value)));\n\n    const matchesSearch = haystack.some(value => value.includes(searchTerm));\n\n    return matchesCategory && matchesLevel && matchesSearch;\n  });\n\n  return matches.reduce(\n    (acc, lesson) => {\n      if (!acc[lesson.category]) {\n        acc[lesson.category] = [];\n      }\n      acc[lesson.category].push(lesson);\n      return acc;\n    },\n    {\n      grammar: [],\n      communication: [],\n      quick: [],\n    }\n  );\n}\n\nfunction renderLessons() {\n  const groupedLessons = filterLessons();\n\n  Object.entries(groupedLessons).forEach(([category, items]) => {\n    const grid = grids[category];\n    const emptyMessage = emptyMessages[category];\n    const section = sections[category];\n\n    if (!grid || !emptyMessage || !section) return;\n\n    grid.innerHTML = items.map(createCardTemplate).join('');\n    const isEmpty = items.length === 0;\n    emptyMessage.hidden = !isEmpty;\n    if (isEmpty) {\n      grid.setAttribute('data-empty', 'true');\n    } else {\n      grid.removeAttribute('data-empty');\n    }\n\n    const shouldHideSection =\n      state.category !== 'all' && state.category !== category;\n    section.hidden = shouldHideSection;\n  });\n}\n\nfunction setStats() {\n  if (stats.total) stats.total.textContent = String(lessons.length);\n  if (stats.grammar)\n    stats.grammar.textContent = String(\n      lessons.filter(lesson => lesson.category === 'grammar').length\n    );\n  if (stats.communication)\n    stats.communication.textContent = String(\n      lessons.filter(lesson => lesson.category === 'communication').length\n    );\n  if (stats.quick)\n    stats.quick.textContent = String(\n      lessons.filter(lesson => lesson.category === 'quick').length\n    );\n}\n\nfunction handleSearch(event) {\n  state.search = event.target.value;\n  renderLessons();\n}\n\nfunction handleLevelChange(event) {\n  state.level = event.target.value;\n  renderLessons();\n}\n\nfunction handleCategoryClick(event) {\n  const category = event.currentTarget.dataset.category;\n  if (!category) return;\n\n  state.category = category;\n  updateCategoryButtons();\n  renderLessons();\n}\n\nfunction setCurrentYear() {\n  const currentYearElement = document.querySelector(\n    '[data-component=\"copyright-year\"]'\n  );\n  if (!currentYearElement) return;\n  currentYearElement.textContent = String(new Date().getFullYear());\n}\n\nfunction init() {\n  setStats();\n  updateCategoryButtons();\n  renderLessons();\n  renderCustomLessons();\n  setCurrentYear();\n\n  if (searchInput) {\n    searchInput.addEventListener('input', handleSearch);\n  }\n\n  if (levelSelect) {\n    levelSelect.addEventListener('change', handleLevelChange);\n  }\n\n  categoryButtons.forEach(button => {\n    button.addEventListener('click', handleCategoryClick);\n  });\n\n  subscribeToStorage(() => {\n    renderCustomLessons();\n  });\n}\n\ninit();\n"],"names":["state","searchInput","levelSelect","categoryButtons","grids","sections","emptyMessages","customSection","customGrid","customEmpty","stats","normaliseValue","value","escapeHtml","updateCategoryButtons","button","isActive","active","createCardTemplate","lesson","categoryLabel","_a","lessonCategories","link","tags","tag","summariseCustomLesson","selectedTopics","id","lessons","item","levels","grammarCount","communicationCount","createCustomLessonCard","meta","description","collectPresetLessons","customLessonPresets","index","collectLocalCustomLessons","loadCustomLessons","getAllCustomLessons","byId","renderCustomLessons","toTime","timestamp","lessonsToRender","a","b","timeDiff","filterLessons","searchTerm","matchesCategory","matchesLevel","matchesSearch","acc","renderLessons","groupedLessons","category","items","grid","emptyMessage","section","isEmpty","shouldHideSection","setStats","handleSearch","event","handleLevelChange","handleCategoryClick","setCurrentYear","currentYearElement","init","subscribeToStorage"],"mappings":"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"}