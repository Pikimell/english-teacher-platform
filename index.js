import{l as s,a as f}from"./assets/lessons-ClpnWO2D.js";const r={search:"",category:"all",level:"all"},d=document.querySelector('[data-filter="search"]'),g=document.querySelector('[data-filter="level"]'),h=Array.from(document.querySelectorAll("[data-category]")),q={grammar:document.querySelector('[data-category-grid="grammar"]'),communication:document.querySelector('[data-category-grid="communication"]'),quick:document.querySelector('[data-category-grid="quick"]')},S={grammar:document.querySelector('[data-category-section="grammar"]'),communication:document.querySelector('[data-category-section="communication"]'),quick:document.querySelector('[data-category-section="quick"]')},v={grammar:document.querySelector('[data-category-empty="grammar"]'),communication:document.querySelector('[data-category-empty="communication"]'),quick:document.querySelector('[data-category-empty="quick"]')},n={total:document.querySelector("[data-stat-total]"),grammar:document.querySelector("[data-stat-grammar]"),communication:document.querySelector("[data-stat-communication]"),quick:document.querySelector("[data-stat-quick]")};function y(t){return t.trim().toLowerCase()}function p(){h.forEach(t=>{const c=t.dataset.category===r.category,e=t.dataset.category==="all"?r.category==="all":c;t.classList.toggle("chip--filled",e),t.setAttribute("aria-pressed",String(e))})}function C(t){var o;const c=((o=f[t.category])==null?void 0:o.label)??t.category,a=`lesson.html?topic=${encodeURIComponent(t.id)}&category=${encodeURIComponent(t.category)}&level=${encodeURIComponent(t.level)}&title=${encodeURIComponent(t.title)}&file=${encodeURIComponent(t.htmlPath)}`,e=Array.isArray(t.tags)?t.tags:[];return`
    <article class="lesson-card" data-lesson-id="${t.id}" data-category="${t.category}" data-level="${t.level}">
      <a class="lesson-card__link" href="${a}">
        <div class="lesson-card__meta">
          <span class="lesson-card__category">${c}</span>
          <span class="lesson-card__level" aria-label="Рівень">${t.level}</span>
        </div>
        <h3 class="lesson-card__title">${t.title}</h3>
        <p class="lesson-card__description">${t.description}</p>
        ${e.length?`<ul class="lesson-card__tags">${e.map(i=>`<li>${i}</li>`).join("")}</ul>`:""}
        <span class="lesson-card__cta">Перейти до матеріалу</span>
      </a>
    </article>
  `}function k(){const t=y(r.search);return s.filter(a=>{const e=r.category==="all"||a.category===r.category,o=r.level==="all"||a.level===r.level;if(!t)return e&&o;const m=[a.title,a.description,...a.tags??[]].filter(Boolean).map(l=>y(String(l))).some(l=>l.includes(t));return e&&o&&m}).reduce((a,e)=>{var o;return(o=a[e.category])==null||o.push(e),a},{grammar:[],communication:[],quick:[]})}function u(){const t=k();Object.entries(t).forEach(([c,a])=>{const e=q[c],o=v[c],i=S[c];if(!e||!o||!i)return;e.innerHTML=a.map(C).join("");const m=a.length===0;o.hidden=!m,m?e.setAttribute("data-empty","true"):e.removeAttribute("data-empty");const l=r.category!=="all"&&r.category!==c;i.hidden=l})}function _(){n.total&&(n.total.textContent=String(s.length)),n.grammar&&(n.grammar.textContent=String(s.filter(t=>t.category==="grammar").length)),n.communication&&(n.communication.textContent=String(s.filter(t=>t.category==="communication").length)),n.quick&&(n.quick.textContent=String(s.filter(t=>t.category==="quick").length))}function $(t){r.search=t.target.value,u()}function L(t){r.level=t.target.value,u()}function A(t){const c=t.currentTarget.dataset.category;c&&(r.category=c,p(),u())}function E(){const t=document.querySelector('[data-component="copyright-year"]');t&&(t.textContent=String(new Date().getFullYear()))}function I(){_(),p(),u(),E(),d&&d.addEventListener("input",$),g&&g.addEventListener("change",L),h.forEach(t=>{t.addEventListener("click",A)})}I();
//# sourceMappingURL=index.js.map
